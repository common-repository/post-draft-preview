function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(window.pdpWebpackJsonpCallback=window.pdpWebpackJsonpCallback||[]).push([[1],{0:function(t,e,n){n("Xpiy"),n("3aVS"),t.exports=n("X90T")},"3aVS":function(t,e){},KEXi:function(t,e,n){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)})(t)}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e);if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key,"string"),"symbol"===o(a)?a:String(a)),i)}var a}n.d(e,"a",function(){return a});var a=function(){function e(){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0!==window.pdp.post&&(this.previewUrl=window.pdp.post.previewUrl||"#",this.status=window.pdp.post.status||0,this.changeStatusNonce=window.pdp.post.changeStatusNonce||"",this.getStatusNonce=window.pdp.post.getStatusNonce||"",this.id=window.pdp.post.id||0,this.label=this.getLabel(this.status),t(document).on("pdp_gutenberg_loaded",function(){n.addPreviewButtonForGutenberg()}),t(document).on("pdp_editor_loaded",function(){n.addButtonForClassicEditor()}),this.initGutenbergLoadEvent(),this.initEditorLoadEvent(),this.initClickAction())}var n,o;return n=e,(o=[{key:"initClickAction",value:function(){var e=this;t("body").on("click",".button--pdp-change-status",function(n){n.preventDefault(),t.ajax({url:pdp.ajaxurl,type:"post",dataType:"json",data:{action:"pdp-change-status",id:e.id,confirmation:1,nonce:e.changeStatusNonce}}).success(function(n){var o=t(".pdp-preview-url");t(".button--pdp-change-status").html(e.getLabel(n.data.status)),o.attr("href",n.data.previewUrl),o.find("input").val(n.data.previewUrl),1===n.data.status?o.show():o.hide()})})}},{key:"getLabel",value:function(t){return(t?"&#10007; Disable":"&#10003; Enable")+" PDP"}},{key:"addPreviewButtonForGutenberg",value:function(){var e=t("button.block-editor-post-preview__button-toggle"),n=t('<a class="pdp-preview-url" href="'.concat(this.previewUrl,'" target="_blank"><input type="text" value="').concat(this.previewUrl,'" readonly></a>'));e.parent()&&t('<a class="components-button is-secondary button--pdp-change-status" href="#">'.concat(this.label,"</a>")).insertBefore(e.parent()),1!==this.status&&n.hide(),n.insertBefore(e.parent())}},{key:"addButtonForClassicEditor",value:function(){var e=t(".button#post-preview"),n=t("<div>"),o=t('<a class="pdp-preview-url" href="'.concat(this.previewUrl,'" target="_blank"><input type="text" value="').concat(this.previewUrl,'" readonly></a>'));e&&t('<a class="preview button is-pdp-preview button--pdp-change-status" href="#">'.concat(this.label,"</a>")).appendTo(n),1!==this.status&&o.hide(),o.appendTo(n),n.insertAfter(e)}},{key:"initGutenbergLoadEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4e3;if(t("#editor").length>0)var n=setInterval(function(){e-=250,(t(".wp-block-post-title").length>0||t("#post-title-0").length>0||t("iframe[name=editor-canvas]").contents().find(".wp-block-post-title"))&&(t(document).trigger("pdp_gutenberg_loaded"),clearInterval(n)),e<=0&&(t(document).trigger("pdp_gutenberg_notloaded"),clearInterval(n))},250)}},{key:"initEditorLoadEvent",value:function(){t("#postdivrich").length>0&&t(document).trigger("pdp_editor_loaded")}}])&&i(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}()}).call(this,n("xeH2"))},X90T:function(t,e){},Xpiy:function(t,e,n){"use strict";n.r(e),function(t){var e=n("KEXi"),o=n("epjV");t(document).ready(function(){new e.a,new o.a})}.call(this,n("xeH2"))},epjV:function(t,e,n){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)})(t)}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e);if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key,"string"),"symbol"===o(a)?a:String(a)),i)}var a}n.d(e,"a",function(){return a});var a=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0!==window.pdp.dashboard&&(this.issetButton("data-remove")&&this.initDataAction("data-remove"),this.issetButton("data-reset")&&this.initDataAction("data-reset"),this.issetButton("data-autogenerate")&&this.initDataAction("data-autogenerate"))}var n,o;return n=e,(o=[{key:"issetButton",value:function(e){return void 0!==e&&t(".pdp-dashboard .button--".concat(e)).length>0}},{key:"initDataAction",value:function(e){var n=this,o=t(".pdp-dashboard .button--"+e);o.on("click",function(i){if(i.preventDefault(),confirm("Are you sure?")){var a=n.getForm(o);a.append("action","pdp-"+e),a.append("confirmation",1),a.append("nonce",n.getNonceByButton(e)),t.ajax({url:pdp.ajaxurl,type:"post",dataType:"json",processData:!1,contentType:!1,data:null!=a?a:{}}).success(function(t){n.showMessage(t,o)}).fail(function(t,e){console.error(e)})}})}},{key:"getNonceByButton",value:function(t){if(void 0===t)return"";var e=t.split("-");if(e.length<2)return"";var n=e[1]+"Nonce";return void 0===pdp.dashboard.data[n]?"":pdp.dashboard.data[n]}},{key:"getForm",value:function(t){var e=t.parent("form");return 0>=e.length?new FormData:new FormData(e[0])}},{key:"showMessage",value:function(e,n){var o=t('<div class="notice notice-'+(e.success?"success":"warning")+' is-dismissible"><p>'+e.data.message+"</p></div>").hide();n.after(o),o.fadeIn("fast"),setTimeout(function(){o.fadeOut("fast")},5e3)}}])&&i(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}()}).call(this,n("xeH2"))},xeH2:function(t,e){t.exports=jQuery}},[[0,0]]]);
